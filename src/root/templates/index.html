<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Узнай свою судьбу</title>

    <style>
        /* Style for the login popup */
        .popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1;
        }

        .popup-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #fff;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        }

        /* Style for the main container */
        .container {
            text-align: center;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
        }

        h1 {
            font-size: 36px;
            margin-bottom: 20px;
        }

        /* Style for the Magic 8 Ball */
        .magic-8-ball {
            background: #f0f0f0;
            border: 2px solid #333;
            border-radius: 50%;
            width: 200px;
            height: 200px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-size: 18px;
        }

        #answer {
            font-weight: bold;
            margin: 20px 0;
        }

        #shake-button {
            background: #007bff;
            color: #fff;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
        }

        #shake-button:hover {
            background: #0056b3;
        }

        /* Style for the User's Questions History */
        .history {
            text-align: left;
            margin-top: 20px;
        }

        h2 {
            font-size: 24px;
        }

        ul {
            list-style-type: none;
            padding: 0;
        }

        li {
            font-size: 16px;
            margin: 10px 0;
        }

        /* Style for the User Input Box */
        .user-input {
            margin-top: 20px;
        }

        #user-question {
            width: 100%;
            padding: 10px;
            font-size: 16px;
            border: 2px solid #333;
            border-radius: 5px;
        }

        #ask-button {
            background: #007bff;
            color: #fff;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
        }

        #ask-button:hover {
            background: #0056b3;
        }

    </style>
</head>
<body>
    <div id="login-popup" class="popup" style="display: block;">
        <div class="popup-content">
            <h2>Login</h2>
            <form id="login-form">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required>
                <button type="submit">Login</button>
            </form>
        </div>
    </div>

    <div class="container">
        <h1>Узнай свою судьбу</h1>

        <div class="magic-8-ball">
            <div id="answer"></div>
            <button id="shake-button">коснись</button>
        </div>

        <div class="history">
            <h2>Question History</h2>
            <ul id="question-list"></ul>
        </div>

        <div class="user-input">
            <textarea id="user-question" rows="4" placeholder="Ask a yes/no question..."></textarea>
            <button id="ask-button">Ask</button>
        </div>
    </div>

    <script>
        
        document.addEventListener("DOMContentLoaded", async () => {
            // Elements
            const loginButton = document.getElementById("login-button");
            const loginPopup = document.getElementById("login-popup");
            const loginForm = document.getElementById("login-form");

            loginForm.addEventListener("submit", async (e) => {
                e.preventDefault();

                // You can implement actual login logic here
                const email = loginForm.elements["email"];
                const user = await fetch(
                    "/api/v1/login"
                )

                loginPopup.style.display = "none";
            });
        });
        
        document.addEventListener("DOMContentLoaded", async () => {
            // Elements (continued)
            const shakeButton = document.getElementById("shake-button");
            const answerDiv = document.getElementById("answer");
            const userQuestionInput = document.getElementById("user-question");
            const askButton = document.getElementById("ask-button");
            const questionList = document.getElementById("question-list");

            // Magic 8 Ball responses
            const responses = [
                "It is certain.",
                "It is decidedly so.",
                "Without a doubt.",
                "Yes – definitely.",
                "You may rely on it.",
                "As I see it, yes.",
                "Most likely.",
                "Outlook good.",
                "Yes.",
                "Signs point to yes.",
                "Reply hazy, try again.",
                "Ask again later.",
                "Better not tell you now.",
                "Cannot predict now.",
                "Concentrate and ask again.",
                "Don't count on it.",
                "My reply is no.",
                "My sources say no.",
                "Outlook not so good.",
                "Very doubtful."
            ];

            // Function to get a random response from the Magic 8 Ball
            function getRandomResponse() {
                const randomIndex = Math.floor(Math.random() * responses.length);
                return responses[randomIndex];
            }

            // Function to display the Magic 8 Ball answer
            function displayAnswer() {
                const answer = getRandomResponse();
                answerDiv.textContent = answer;
            }

            // Function to add a question to the history list
            function addQuestionToHistory(question) {
                const listItem = document.createElement("li");
                listItem.textContent = question;
                questionList.appendChild(listItem);
            }

            // Event listeners for Magic 8 Ball and question history
            shakeButton.addEventListener("click", displayAnswer);

            askButton.addEventListener("click", function () {
                const question = userQuestionInput.value.trim();
                if (question) {
                    displayAnswer();
                    addQuestionToHistory(question);
                    userQuestionInput.value = "";
                }
            });
        });

    </script>
</body>
</html>